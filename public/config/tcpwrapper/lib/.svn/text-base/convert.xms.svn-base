#method prefix2mask(mask)
  #lookup = [0, 128, 192, 224, 240, 248, 252, 254]##
  #rest = lookup[int(mask) % 8]##
  #if mask < 8
    /%(rest).0.0.0##
  #elif mask < 16
    /255.%(rest).0.0##
  #elif mask < 24
    /255.255.%(rest).0##
  #elif mask < 32
    /255.255.255.%(rest)##
  #else
  #end
#end

#method convert(mask)
  #if "/" in mask
    #parts = mask.split("/", 1)##
    %(parts[0])%prefix2mask(int(parts[1]))##
  #else  
    %(mask)##
  #end
#end
