%header("##")

[global]

## Browsing/Identification ###
   ## Change this to the workgroup/NT-domain name your Samba server will part of
   workgroup = %(samba_domain)
   ## server string is the equivalent of the NT Description field
   server string = %%h
   dns proxy = no

#### Networking ####
   interfaces = %(" ".join(samba_interfaces))
   bind interfaces only = true

#### Debugging/Accounting ####
   log file = /var/log/samba/log.%%m
   log level = %(samba_loglevel)
   max log size = 1000
   syslog = 0
   panic action = /usr/share/samba/panic-action %%d

####### Authentication #######
   security = user
   encrypt passwords = true
   passdb backend = tdbsam
   obey pam restrictions = yes

   unix password sync = yes
   passwd program = /usr/bin/passwd %%u
   passwd chat = *Enter\snew\sUNIX\spassword:* %%n\n *Retype\snew\sUNIX\spassword:* %%n\n *password\supdated\ssuccessfully* .

########## Domains ###########
   domain logons = yes
   logon path = \\%%L\profile\roaming
   logon home = \\%%L\profile
   logon script = logon.cmd

########## Printing ##########
   load printers = yes
   printing = cups
   printcap name = cups

############ Misc ############
   socket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192

############ Shares ###########

   create mask = 0660
   directory mask = 0770
   wide links = yes
   unix extensions = no

[profile]
   comment     = Home Directory
   browseable  = yes
   writable    = yes
   path        = /home/%%U/.windows

[netlogon]
   comment     = Network Logon Service
   path        = /data/samba/netlogon
   public      = yes
   writable    = no

[printers]
   comment     = All Printers
   browseable  = no
   path        = /var/spool/samba
   printable   = yes
   public      = no
   writable    = yes

[print$]
   comment     = Printer Drivers
   path        = /var/lib/samba/printers
   browseable  = yes
   read only   = yes
   public      = no
   write list  = samba-admin, root
   create mask = 0644

#foreach share in shares
  [%(share)]
  #foreach key in shares[share]
      %(key.replace("_", " ")) = %(shares[share][key])
  #end

#end
