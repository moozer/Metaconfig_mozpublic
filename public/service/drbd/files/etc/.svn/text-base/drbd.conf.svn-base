%header("##")

global {
  usage-count no;
}

common {
  protocol C;

  startup {
    wfc-timeout  0;
    degr-wfc-timeout 60;
  }

  disk {
    on-io-error     detach;
  }

  net {
    max-buffers     10240;
    unplug-watermark 256;
    timeout         7;
  }

  syncer {
    rate %(syncer_rate);
    al-extents %(al_extents);
  }
}

#method resource(name, host0_name, host0_device, host0_disk, host0_address, host0_meta_disk, host0_meta_index, host1_name, host1_device, host1_disk, host1_address, host1_meta_disk, host1_meta_index)
  #if name
    resource %(name) {
      on %(host0_name) {
        device    %(host0_device);
        address   %(host0_address);
        disk      "%(host0_disk)";
        meta-disk "%(host0_meta_disk)"%(host0_meta_index);
      }

      on %(host1_name) {
        device    %(host1_device);
        address   %(host1_address);
        disk      "%(host1_disk)";
        meta-disk "%(host1_meta_disk)"%(host1_meta_index);
      }
    }
  #end
#end

%resource(r0_name, r0_host0_name, r0_host0_device, r0_host0_disk, r0_host0_address, r0_host0_meta_disk, r0_host0_meta_index, r0_host1_name, r0_host1_device, r0_host1_disk, r0_host1_address, r0_host1_meta_disk, r0_host1_meta_index)##
%resource(r1_name, r1_host0_name, r1_host0_device, r1_host0_disk, r1_host0_address, r1_host0_meta_disk, r1_host0_meta_index, r1_host1_name, r1_host1_device, r1_host1_disk, r1_host1_address, r1_host1_meta_disk, r1_host1_meta_index)##
