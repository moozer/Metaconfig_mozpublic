%header("##")
## Root servers
zone "."                   { type hint;   file "/etc/bind/db.root";  };

#foreach zone in zones_master
  zone "%(zone.split("|")[0])" { type master; file "/etc/bind/db.%(zone.split("|")[1])"; };
#end
#foreach zone in zones_include
  include "/etc/bind/db.%(zone)";
#end

## Options block
options {
  directory "/var/cache/bind";
  auth-nxdomain no;
  listen-on-v6 { none; };
  #if querylog
    querylog yes;
  #end

  #if acl_recursion
    recursion yes;
    allow-recursion {
    #foreach host in acl_recursion
        %(host);
    #end
    };
  #end

  #if acl_transfer
    allow-transfer {
    #foreach host in acl_transfer
        %(host);
    #end
    };
  #end

};

#if querylog
  logging {
    channel querylog {
      file "/var/log/named/query.log"
      versions 5 size 10m;
      print-category yes;
      print-severity yes;
      print-time yes;
      severity info;
    };
    category queries {
      querylog;
    };
  };
#end
